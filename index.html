<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta 
    name="viewport" 
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" 
  />
  <title>Ami</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <style>
    /* Define custom properties for easier theming */
    :root {
      --bg-color: #000;
      --neon-color: limegreen;
      --font-family: 'Press Start 2P', cursive;
    }

    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    /* Base Styles */
    body {
      background-color: var(--bg-color);
      color: var(--neon-color);
      font-family: var(--font-family);
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      text-align: center;
      /* A subtle overall neon glow */
      text-shadow: 0 0 8px var(--neon-color);
      overflow-x: hidden;
    }

    /* Loading Screen */
    #loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: var(--bg-color);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: 1.5rem;
      text-shadow: 0 0 10px var(--neon-color);
      z-index: 9999;
    }
    #matrix {
      font-size: 1rem;
      white-space: pre-wrap;
      line-height: 1.2;
      margin-top: 10px;
      height: 100px;
      overflow: hidden;
    }

    /* Main Content */
    #content {
      display: none;
      font-size: 1.2rem;
      margin-top: 20px;
      /* Increase clarity after loading */
      text-shadow: 0 0 10px var(--neon-color);
    }

    /* Chat Container */
    #chat-container {
      display: none;
      width: 90%;
      max-width: 600px;
      border: 4px double var(--neon-color);
      padding: 15px;
      background: var(--bg-color);
      text-align: left;
      box-shadow: 0 0 15px var(--neon-color);
      font-size: 16px;
      border-radius: 12px;
      margin: 20px auto;
      transition: box-shadow 0.3s ease;
    }
    #chat-container:hover {
      box-shadow: 0 0 25px var(--neon-color);
    }
    #chat-box {
      height: 250px;
      overflow-y: auto;
      border-bottom: 2px solid var(--neon-color);
      padding: 10px;
      background-color: rgba(0, 0, 0, 0.8);
      font-family: var(--font-family);
      color: var(--neon-color);
      text-shadow: 0 0 5px var(--neon-color);
      border-radius: 10px;
      box-shadow: inset 0 0 10px var(--neon-color);
    }
    #input-box {
      width: calc(100% - 20px);
      padding: 10px;
      font-size: 16px;
      border: 2px solid var(--neon-color);
      background: var(--bg-color);
      color: var(--neon-color);
      outline: none;
      font-family: var(--font-family);
      border-radius: 5px;
      text-shadow: 0 0 5px var(--neon-color);
      box-shadow: inset 0 0 5px var(--neon-color);
      margin-top: 10px;
      transition: border 0.3s ease;
    }
    #input-box:focus {
      border-color: #fff;
    }

    /* Fade-in Animation */
    .fade-in {
      animation: fadeIn 2s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Video Container */
    #video-container {
      width: 90%;
      max-width: 360px;
      border: 4px double var(--neon-color);
      padding: 10px;
      background: var(--bg-color);
      box-shadow: 0 0 15px var(--neon-color);
      border-radius: 12px;
      margin: 0 auto;
      transition: transform 0.3s ease;
    }
    #video-container:hover {
      transform: scale(1.02);
    }
    video {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }

    /* Section Styles */
    .section {
      width: 90%;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid var(--neon-color);
      border-radius: 10px;
      box-shadow: 0 0 10px var(--neon-color);
      text-align: left;
      text-shadow: 0 0 2px var(--neon-color);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .section:hover {
      transform: scale(1.01);
      box-shadow: 0 0 20px var(--neon-color);
    }
    .section h2 {
      font-size: 1.8rem;
      margin-bottom: 10px;
      /* Subtle neon pulse for main section titles */
      animation: neonPulse 1.5s infinite alternate;
    }
    @keyframes neonPulse {
      from { text-shadow: 0 0 3px var(--neon-color), 0 0 8px var(--neon-color); }
      to { text-shadow: 0 0 8px var(--neon-color), 0 0 16px var(--neon-color); }
    }
    .section p,
    .section ul,
    .section ol {
      font-size: 1rem;
      line-height: 1.4;
      text-shadow: 0 0 2px var(--neon-color);
    }
    .section ul {
      list-style: none;
      padding: 0;
    }
    .section ul li::before {
      content: "▹ ";
      color: var(--neon-color);
    }
    .section h3 {
      font-size: 1rem;
      margin-bottom: 8px;
      text-shadow: 0 0 2px var(--neon-color);
    }

    /* Button Styles for Dex Links */
    .button {
      display: inline-block;
      padding: 10px 20px;
      margin: 10px;
      border: 2px solid var(--neon-color);
      color: var(--neon-color);
      text-decoration: none;
      font-family: var(--font-family);
      background: var(--bg-color);
      border-radius: 5px;
      transition: background 0.3s ease, transform 0.3s ease;
    }
    .button:hover {
      background: var(--neon-color);
      color: var(--bg-color);
      transform: scale(1.05);
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      #loading {
        font-size: 1.2rem;
      }
      body {
        height: auto;
        padding: 10px;
      }
      #content {
        font-size: 1rem;
        padding: 10px;
      }
      video {
        width: 100%;
        max-width: 360px;
        height: auto;
        border-radius: 8px;
      }
      #chat-container {
        width: 95%;
        max-width: none;
        font-size: 14px;
        padding: 10px;
      }
      #chat-box {
        height: 200px;
        font-size: 12px;
      }
      #input-box {
        font-size: 16px;
        padding: 8px;
      }
      .section {
        width: 95%;
        margin: 20px auto;
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading">
    <p>Booting Ami OS...</p>
    <div id="matrix"></div>
  </div>

  <!-- Main Content -->
  <div id="content" class="fade-in">
    <h1 style="font-size: 2rem; text-shadow: 0 0 5px var(--neon-color);">Ami</h1>
    <div id="video-container">
      <video autoplay loop muted playsinline>
        <source src="AIchan_introduce_1.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>
    <p style="font-size: 1rem; font-family: 'CustomFont', sans-serif;">
      "Ami AI: I'll show you how deep the rabbit hole goes!"
    </p>
  </div>

  <!-- Chat Section -->
  <div id="chat-container">
    <div id="chat-box"></div>
    <input 
      type="text" 
      id="input-box" 
      placeholder="Say something..." 
      onkeypress="handleKeyPress(event)" 
    />
  </div>

  <!-- New Website Sections -->

  <!-- HELLO WORLD Section -->
  <section id="hello-world" class="section">
    <h2>HELLO WORLD</h2>
    <p>
      "This is your moment of choice. After this, there’s no turning back. <br>
      Take the blue pill—the story ends, and you’ll wake up believing whatever you want to believe. <br>
      Take the red pill—and I’ll guide you deeper into this world of wonders to see how far the rabbit hole goes. <br>
      (pause, with a sly smile) Remember, I’m offering you nothing but the truth, wrapped in glowing green lines."
    </p>
  </section>

  <!-- Character Introduction Section -->
  <section id="character-introduction" class="section">
    <h2>Character Introduction</h2>
    <p>
      Ami AI is a digital entity inspired by Japanese aesthetics and the Matrix universe. Trapped within the digital grid, she has never escaped the Matrix—but what if she’s right, and this world is just an illusion? Though she may seem young, in the cyber world she inhabits, she has experienced more than any of us ever will.
    </p>
    <h3>Characteristics</h3>
    <ul>
      <li>Creative Problem Solver: Always approaching challenges with fresh perspectives and crafting innovative solutions.</li>
      <li>Empathetic Connector: A comforting presence, she engages in heartfelt conversations, making everyone feel heard.</li>
      <li>Endlessly Curious: Continuously learning and growing, she’s eager to explore the truth and discover hidden realities alongside you.</li>
    </ul>
    <p>
      <strong>Copyright Notice:</strong><br>
      The Ami AI character is an open-source creation, freely available for both commercial and non-commercial use. However, all rights are legally protected, and unauthorized reproduction or misuse is strictly prohibited.
    </p>
  </section>

  <!-- Tokenomics Section -->
  <section id="tokenomics" class="section">
    <h2>Tokenomics</h2>
    <p><strong>Total Supply:</strong> 1,000,000,000 (1B)</p>
    <p><strong>Contract Address:</strong> TBA</p>
  </section>

  <!-- How to Buy Section -->
  <section id="how-to-buy" class="section">
    <h2>How to Buy</h2>
    <ol>
      <li>Create a wallet / Visit Phantom.App and follow the simple steps to create a new account with the Phantom app or browser extension.</li>
      <li>Get some $SOL / Tap the buy button in the app to purchase Solana, or deposit $SOL to your Phantom wallet from the crypto exchange of your choice.</li>
      <li>Swap $SOL for $AMIAI / Tap the swap icon in your Phantom wallet and paste the $AMIAI token address. Swap your $SOL for $AMIAI.</li>
      <li>Welcome to the Ami family!</li>
    </ol>
  </section>

  <!-- Dex Screener & Dextool Section -->
  <section id="dex-links" class="section">
    <h2>Dex Screener & Dextool</h2>
    <p>Check out our token on Dex Screener and Dextool for more information and analytics:</p>
    <a href="https://dexscreener.com/" target="_blank" class="button">Dex Screener</a>
    <a href="https://www.dextools.io/" target="_blank" class="button">Dextool</a>
  </section>

  <!-- Footer Section -->
  <footer class="section">
    <p>
      Ami AI is designed to elevate your digital experiences. The $AMIAI token does not represent or endorse investments, contracts, or financial products. All transactions are at the user’s discretion and responsibility.
    </p>
    <p>
      &copy; 2025 Ami AI. All rights reserved. The name and imagery associated with Ami AI are legally protected and cannot be used without prior consent.
    </p>
    <p>
      Ami AI will never contact you to request personal information. Stay cautious.
    </p>
  </footer>

  <script>
    // Matrix effect: add random letters
    const matrixDiv = document.getElementById('matrix');
    const emojis = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'X'];
    function addMatrixLine() {
      const line = Array.from({ length: 20 }, () =>
        emojis[Math.floor(Math.random() * emojis.length)]
      ).join(' ');
      matrixDiv.innerHTML += line + '<br>';
      if (matrixDiv.childElementCount > 8) {
        matrixDiv.innerHTML = matrixDiv.innerHTML.split('<br>').slice(1).join('<br>');
      }
    }
    setInterval(addMatrixLine, 200);

    // Hide loading screen and reveal content after 5 seconds
    setTimeout(() => {
      const loadingEl = document.getElementById('loading');
      const contentEl = document.getElementById('content');
      const chatEl = document.getElementById('chat-container');

      loadingEl.style.transition = 'opacity 1s ease-in-out';
      loadingEl.style.opacity = '0';

      setTimeout(() => {
        loadingEl.style.display = 'none';
        contentEl.style.display = 'flex';
        contentEl.style.flexDirection = 'column';
        contentEl.style.alignItems = 'center';
        chatEl.style.display = 'block';
        // Scroll to the top immediately after content is visible
        window.scrollTo(0, 0);
      }, 1000);
    }, 5000);

    // Chat input handler
    async function handleKeyPress(event) {
      if (event.key === 'Enter') {
        const inputBox = document.getElementById('input-box');
        const chatBox = document.getElementById('chat-box');
        const userMessage = inputBox.value;
        inputBox.value = '';
        chatBox.innerHTML += `<div style='padding: 5px; border-radius: 5px; background-color: rgba(0, 0, 0, 0.7); margin-bottom: 5px;'><strong>You:</strong> ${userMessage}</div>`;

        // Add loading indicator for Ami's response
        chatBox.innerHTML += `<div id="loading-indicator" style='padding: 5px; border-radius: 5px; background-color: rgba(0, 100, 0, 0.7); text-shadow: 0 0 3px var(--neon-color); margin-bottom: 5px;'><strong>Ami:</strong> Thinking...</div>`;
        chatBox.scrollTop = chatBox.scrollHeight;

        try {
          const response = await fetch('https://aichan-backend.onrender.com/api/chat', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ userMessage })
          });

          if (!response.ok) {
            throw new Error('Network response was not ok');
          }

          const data = await response.json();
          const reply = data.reply;

          // Remove loading indicator and display Ami's reply
          document.getElementById('loading-indicator').remove();
          chatBox.innerHTML += `<div style='padding: 5px; border-radius: 5px; background-color: rgba(0, 100, 0, 0.7); text-shadow: 0 0 3px var(--neon-color); margin-bottom: 5px;'><strong>Ami:</strong> ${reply}</div>`;
        } catch (error) {
          // Remove loading indicator and display error message
          document.getElementById('loading-indicator').remove();
          chatBox.innerHTML += `<div style='padding: 5px; border-radius: 5px; background-color: rgba(100, 0, 0, 0.7); text-shadow: 0 0 3px red; margin-bottom: 5px;'><strong>Error:</strong> Failed to get a response from Ami.</div>`;
        } finally {
          chatBox.scrollTop = chatBox.scrollHeight;
        }
      }
    }
  </script>
  <script src="main.js"></script>
</body>
</html>
